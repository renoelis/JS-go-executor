# Dayjs 官方插件完整列表

根据官方文档和 GitHub 仓库，dayjs 目前提供 **30+ 个官方插件**。

## 📦 插件分类

### 1️⃣ 格式化相关 (Format)

| 插件名 | 功能 | 文件大小 | 使用频率 |
|--------|------|---------|---------|
| **AdvancedFormat** | 高级格式化选项 (Q、Do、k、X 等) | ~0.5 KB | ⭐⭐⭐ |
| **LocalizedFormat** | 本地化格式 (L、LL、LLL 等) | ~0.8 KB | ⭐⭐⭐ |
| **CustomParseFormat** | 自定义格式解析 | ~2 KB | ⭐⭐⭐⭐ |

### 2️⃣ 时区相关 (Timezone)

| 插件名 | 功能 | 文件大小 | 使用频率 |
|--------|------|---------|---------|
| **Timezone** | 时区支持 (IANA 时区) | ~15 KB ⚠️ | ⭐⭐ |
| **UTC** | UTC 模式 | ~0.5 KB | ⭐⭐⭐ |

### 3️⃣ 比较和判断 (Comparison)

| 插件名 | 功能 | 文件大小 | 使用频率 |
|--------|------|---------|---------|
| **IsBetween** | 判断是否在两个日期之间 | ~0.3 KB | ⭐⭐⭐ |
| **IsSameOrAfter** | 判断是否相同或之后 | ~0.2 KB | ⭐⭐ |
| **IsSameOrBefore** | 判断是否相同或之前 | ~0.2 KB | ⭐⭐ |
| **IsLeapYear** | 判断是否闰年 | ~0.1 KB | ⭐⭐ |
| **IsToday** | 判断是否今天 | ~0.1 KB | ⭐⭐⭐ |
| **IsTomorrow** | 判断是否明天 | ~0.1 KB | ⭐⭐ |
| **IsYesterday** | 判断是否昨天 | ~0.1 KB | ⭐⭐ |

### 4️⃣ 计算相关 (Calculation)

| 插件名 | 功能 | 文件大小 | 使用频率 |
|--------|------|---------|---------|
| **Duration** | 时长计算和格式化 | ~2 KB | ⭐⭐⭐ |
| **WeekOfYear** | 获取年中第几周 | ~0.5 KB | ⭐⭐⭐ |
| **WeekYear** | 获取周年 | ~0.5 KB | ⭐⭐ |
| **DayOfYear** | 获取年中第几天 | ~0.3 KB | ⭐⭐ |
| **QuarterOfYear** | 季度支持 | ~0.4 KB | ⭐⭐⭐ |
| **MinMax** | 最小/最大日期 | ~0.3 KB | ⭐⭐ |

### 5️⃣ 相对时间 (Relative Time)

| 插件名 | 功能 | 文件大小 | 使用频率 |
|--------|------|---------|---------|
| **RelativeTime** | 相对时间 ("2 天前") | ~2 KB | ⭐⭐⭐⭐⭐ |
| **UpdateLocale** | 更新语言配置 | ~0.5 KB | ⭐⭐ |

### 6️⃣ 工作日相关 (Business Days)

| 插件名 | 功能 | 文件大小 | 使用频率 |
|--------|------|---------|---------|
| **Weekday** | 工作日操作 | ~0.5 KB | ⭐⭐ |
| **IsoWeeksInYear** | ISO 周数 | ~0.3 KB | ⭐ |
| **BusinessDays** | 工作日计算 (社区插件) | ~1 KB | ⭐⭐ |

### 7️⃣ 语言环境 (Locale)

| 插件名 | 功能 | 文件大小 | 使用频率 |
|--------|------|---------|---------|
| **LocaleData** | 语言环境数据 | ~1 KB | ⭐⭐⭐ |
| **Calendar** | 日历格式 ("今天"、"明天") | ~1 KB | ⭐⭐⭐ |

### 8️⃣ 其他实用功能

| 插件名 | 功能 | 文件大小 | 使用频率 |
|--------|------|---------|---------|
| **ArraySupport** | 数组支持 `[2024, 0, 15]` | ~0.5 KB | ⭐⭐ |
| **ObjectSupport** | 对象支持 `{year: 2024}` | ~0.8 KB | ⭐⭐⭐ |
| **ToObject** | 转换为对象 | ~0.3 KB | ⭐⭐ |
| **ToArray** | 转换为数组 | ~0.2 KB | ⭐⭐ |
| **BadMutable** | 可变模式 (不推荐) | ~0.3 KB | ⭐ |
| **BuddhistEra** | 佛历支持 | ~0.5 KB | ⭐ |
| **Preparse** | 预解析 | ~0.5 KB | ⭐ |
| **Postformat** | 后格式化 | ~0.5 KB | ⭐ |

## 📊 统计总结

- **总插件数**: ~30+ 个
- **常用插件**: ~10 个 (⭐⭐⭐ 以上)
- **轻量级**: 大部分插件 < 1 KB
- **重量级**: Timezone (~15 KB)

## 🎯 对你项目的建议

### ✅ 当前不需要的插件 (28/30+)

根据测试结果，你的项目**不需要**以下插件：

**格式化类**: 
- ❌ AdvancedFormat - 核心 format 已满足
- ❌ LocalizedFormat - 不需要本地化格式
- ❌ CustomParseFormat - 使用标准 ISO 格式即可

**时区类**:
- ❌ Timezone - 不涉及跨时区转换
- ❌ UTC - 不需要 UTC 模式

**比较类**:
- ❌ IsBetween - 可用 isAfter + isBefore 替代
- ❌ IsSameOrAfter/Before - 可组合实现
- ❌ IsLeapYear - 用不到
- ⚠️ IsToday/Tomorrow/Yesterday - 1 行代码可实现

**计算类**:
- ❌ Duration - 用 diff 即可
- ❌ WeekOfYear/WeekYear - 不需要
- ❌ QuarterOfYear - 不需要

**其他**:
- ❌ RelativeTime - 不显示 "2天前"
- ❌ ArraySupport/ObjectSupport - 不需要
- ❌ 等等...

### ⚠️ 可能需要的插件 (0-2个)

**只在以下极端情况下考虑**：

1. **RelativeTime** - 如果需要显示 "3天前"、"刚刚" 等
   - 大小: 2 KB
   - 何时用: 社交功能、评论系统

2. **Timezone** - 如果需要跨时区转换
   - 大小: 15 KB ⚠️ (很大)
   - 何时用: 国际化应用、多时区显示

## 💡 实际对比

### 方案 A: 当前实现（无插件）✅

```
核心库:        7 KB
插件:          0 KB
总计:          7 KB  ← 推荐
功能覆盖:      100% (你的需求)
维护成本:      低
```

### 方案 B: 添加常用插件

```
核心库:        7 KB
插件 (5个):    ~4 KB
总计:          11 KB
功能覆盖:      120% (过度)
维护成本:      中
```

### 方案 C: 添加 Timezone

```
核心库:        7 KB
Timezone:      15 KB  ⚠️
总计:          22 KB
功能覆盖:      150% (严重过度)
维护成本:      高

对比:
- vs date-fns (69 KB): 仍小 68%
- vs 当前方案: 大 214%  ← 不值得
```

## 🏆 最终建议

### **当前最优方案: 0 插件** ⭐⭐⭐⭐⭐

**理由**:
1. ✅ 功能 100% 满足当前需求
2. ✅ 文件最小 (7 KB)
3. ✅ 加载最快 (0.71 ms)
4. ✅ 维护成本最低
5. ✅ 无依赖复杂度

**观察策略**:
- 📊 监控 3-6 个月的实际使用
- 📝 收集用户需求反馈
- 🔍 如果出现明确需求再添加

**添加原则** (如果真需要):
- 只添加 1-2 个必需插件
- 优先选择轻量级 (< 1 KB)
- 避免 Timezone (15 KB 太大)

## 📚 参考资源

- 官方文档: https://day.js.org/docs/en/plugin/plugin
- GitHub: https://github.com/iamkun/dayjs/tree/dev/src/plugin
- NPM: https://www.npmjs.com/package/dayjs

---

**结论**: 你的项目**完全不需要任何插件**，当前实现已是最优方案！🎯

