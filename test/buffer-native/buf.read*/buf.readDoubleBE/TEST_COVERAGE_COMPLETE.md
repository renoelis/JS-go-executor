# buf.readDoubleBE() å®Œæ•´æµ‹è¯•è¦†ç›–æŠ¥å‘Š

## æµ‹è¯•æ€»è§ˆ

- **API**: `buf.readDoubleBE([offset])`
- **Node.js ç‰ˆæœ¬**: v25.0.0
- **æµ‹è¯•æ€»æ•°**: 332
- **é€šè¿‡ç‡**: 100%
- **çŠ¶æ€**: âœ… å®Œå…¨å…¼å®¹

## æµ‹è¯•æ–‡ä»¶åˆ—è¡¨

| æ–‡ä»¶å | æµ‹è¯•æ•° | é€šè¿‡ | å¤±è´¥ | è¦†ç›–å†…å®¹ |
|--------|--------|------|------|----------|
| part1_basic.js | 14 | 14 | 0 | åŸºç¡€åŠŸèƒ½æµ‹è¯• |
| part2_special_values.js | 22 | 22 | 0 | ç‰¹æ®Šå€¼æµ‹è¯• |
| part3_offset_validation.js | 23 | 23 | 0 | offset å‚æ•°éªŒè¯ |
| part5_endianness.js | 17 | 17 | 0 | å­—èŠ‚åºæµ‹è¯• |
| part6_precision.js | 20 | 20 | 0 | ç²¾åº¦æµ‹è¯• |
| part7_ieee754.js | 21 | 21 | 0 | IEEE 754 æ ‡å‡†æµ‹è¯• |
| part8_typedarray_interop.js | 13 | 13 | 0 | TypedArray äº’æ“ä½œ |
| part9_memory_safety.js | 13 | 13 | 0 | å†…å­˜å®‰å…¨æµ‹è¯• |
| part10_error_handling.js | 18 | 18 | 0 | é”™è¯¯å¤„ç†æµ‹è¯• |
| part11_official_examples.js | 16 | 16 | 0 | å®˜æ–¹ç¤ºä¾‹æµ‹è¯• |
| part12_symbol_toprimitive.js | 10 | 10 | 0 | Symbol.toPrimitive è½¬æ¢ |
| part13_method_integrity.js | 17 | 17 | 0 | æ–¹æ³•å®Œæ•´æ€§æµ‹è¯• |
| part14_return_type.js | 20 | 20 | 0 | è¿”å›å€¼ç±»å‹æµ‹è¯• |
| part15_frozen_sealed_buffer.js | 12 | 12 | 0 | å†»ç»“/å¯†å° Buffer |
| part16_arraybuffer_advanced.js | 15 | 15 | 0 | ArrayBuffer é«˜çº§æµ‹è¯• |
| part17_additional_coverage.js | 22 | 22 | 0 | è¡¥å……è¦†ç›–æµ‹è¯• |
| part18_cross_method_consistency.js | 17 | 17 | 0 | è·¨æ–¹æ³•ä¸€è‡´æ€§æµ‹è¯• |
| part19_edge_cases_final.js | 42 | 42 | 0 | æœ€ç»ˆè¾¹ç•Œåœºæ™¯æµ‹è¯• |

## API è§„æ ¼

### è¯­æ³•
```javascript
buf.readDoubleBE([offset])
```

### å‚æ•°
- **offset** `<integer>`: è·³è¿‡çš„å­—èŠ‚æ•°ï¼Œé»˜è®¤ `0`
  - å¿…é¡»æ»¡è¶³: `0 <= offset <= buf.length - 8`
  - å¿…é¡»æ˜¯æ•´æ•°ï¼Œä¸å…è®¸æµ®ç‚¹æ•°
  - éæ³•ç±»å‹ï¼ˆnullã€stringã€objectã€booleanï¼‰æŠ›å‡º `TypeError`
  - è¶Šç•Œå€¼ï¼ˆè´Ÿæ•°ã€è¶…å‡ºèŒƒå›´ï¼‰æŠ›å‡º `RangeError`

### è¿”å›å€¼
- `<number>`: 64 ä½å¤§ç«¯åºåŒç²¾åº¦æµ®ç‚¹æ•°

### é”™è¯¯ç±»å‹
1. **RangeError**:
   - offset è¶Šç•Œ
   - offset ä¸ºè´Ÿæ•°
   - offset ä¸ºæµ®ç‚¹æ•°
   - Buffer é•¿åº¦ä¸è¶³ 8 å­—èŠ‚
   - offset ä¸º NaNã€Infinityã€-Infinity

2. **TypeError**:
   - offset ä¸º null
   - offset ä¸ºå­—ç¬¦ä¸²
   - offset ä¸ºå¯¹è±¡
   - offset ä¸ºæ•°ç»„
   - offset ä¸ºå¸ƒå°”å€¼

## æµ‹è¯•è¦†ç›–è¯¦æƒ…

### 1. åŸºç¡€åŠŸèƒ½æµ‹è¯• (part1_basic.js)

**è¦†ç›–ç‚¹**:
- âœ… è¯»å–é›¶å€¼
- âœ… è¯»å–æ­£/è´Ÿæµ®ç‚¹æ•°
- âœ… è¯»å–æ•´æ•°å€¼
- âœ… è¯»å–å¤§æ•°å€¼ï¼ˆ1e100ï¼‰
- âœ… è¯»å–å°æ•°å€¼ï¼ˆ1e-100ï¼‰
- âœ… offset é»˜è®¤å€¼ (0)
- âœ… ä¸åŒ offset ä½ç½®
- âœ… å†™å…¥åè¯»å–ä¸€è‡´æ€§
- âœ… Big-Endian å­—èŠ‚åºéªŒè¯
- âœ… å®˜æ–¹ç¤ºä¾‹å€¼éªŒè¯

### 2. ç‰¹æ®Šå€¼æµ‹è¯• (part2_special_values.js)

**è¦†ç›–ç‚¹**:
- âœ… `Infinity` / `-Infinity`
- âœ… `+0` / `-0` (ç¬¦å·é›¶)
- âœ… `NaN`
- âœ… `Number.MIN_VALUE`
- âœ… `Number.MAX_VALUE`
- âœ… `Number.EPSILON`
- âœ… ç§‘å­¦è®¡æ•°æ³•
- âœ… åŸå§‹å­—èŠ‚è¡¨ç¤ºéªŒè¯
  - `0x7FF0000000000000` â†’ `Infinity`
  - `0xFFF0000000000000` â†’ `-Infinity`
  - `0x7FF8000000000000` â†’ `NaN`

### 3. Offset å‚æ•°éªŒè¯ (part3_offset_validation.js)

**è¦†ç›–ç‚¹**:
- âœ… é»˜è®¤å€¼ (undefined â†’ 0)
- âœ… è¾¹ç•Œå€¼æµ‹è¯•
  - æœ€å¤§æœ‰æ•ˆå€¼: `buf.length - 8`
  - è¶Šç•Œå€¼: `buf.length - 7`, `buf.length`, `buf.length + 1`
- âœ… è´Ÿæ•° offset: `-1`, `-100`
- âœ… ç‰¹æ®Šå€¼: `NaN`, `Infinity`, `-Infinity`
- âœ… éæ³•ç±»å‹: `null`, `"0"`, `{}`, `[]`, `true`, `false`
- âœ… æµ®ç‚¹æ•°: `0.5`, `1.9`
- âœ… æå€¼: `Number.MAX_SAFE_INTEGER`, `Number.MIN_SAFE_INTEGER`
- âœ… ç©º Buffer å’Œé•¿åº¦ä¸è¶³

### 4. å­—èŠ‚åºæµ‹è¯• (part5_endianness.js)

**è¦†ç›–ç‚¹**:
- âœ… Big-Endian vs Little-Endian å¯¹æ¯”
- âœ… IEEE 754 æ ¼å¼éªŒè¯
  - `1.0` â†’ `[0x3F, 0xF0, 0x00, ...]`
  - `2.0` â†’ `[0x40, 0x00, 0x00, ...]`
  - `-1.0` â†’ `[0xBF, 0xF0, 0x00, ...]`
  - `Math.PI` â†’ `[0x40, 0x09, 0x21, 0xFB, ...]`
- âœ… ç¬¦å·ä½å½±å“éªŒè¯
- âœ… å†™å…¥/è¯»å–ä¸€è‡´æ€§
- âœ… äº¤æ›¿æ¨¡å¼å’Œé€’å¢/é€’å‡åºåˆ—

### 5. ç²¾åº¦æµ‹è¯• (part6_precision.js)

**è¦†ç›–ç‚¹**:
- âœ… é«˜ç²¾åº¦æ•°å€¼å¾€è¿”ï¼ˆ1.7976931348623157e+308ï¼‰
- âœ… å°æ•°ç²¾åº¦ï¼ˆ0.1 + 0.2ï¼‰
- âœ… ç§‘å­¦è®¡æ•°æ³•ï¼ˆå¤§æ•°/å°æ•°ï¼‰
- âœ… éå¸¸æ¥è¿‘é›¶çš„æ•°ï¼ˆ1e-307ï¼‰
- âœ… éå¸¸å¤§çš„æ•°ï¼ˆ1e307ï¼‰
- âœ… IEEE 754 è¾¹ç•Œå€¼
  - `MIN_VALUE`, `MAX_VALUE`, `EPSILON`
  - `MAX_SAFE_INTEGER`, `MIN_SAFE_INTEGER`
- âœ… æ•°å­¦å¸¸æ•°ç²¾åº¦
  - `Math.PI`, `Math.E`, `Math.SQRT2`, `Math.LN2`
- âœ… å¤æ‚è®¡ç®—ç»“æœï¼ˆ1/3, 1/7, sqrt(2)ï¼‰

### 6. IEEE 754 æ ‡å‡†æµ‹è¯• (part7_ieee754.js)

**è¦†ç›–ç‚¹**:
- âœ… ç‰¹æ®Šå€¼åŸå§‹å­—èŠ‚è¡¨ç¤º
  - æ­£/è´Ÿæ— ç©·
  - é™é»˜ NaN å’Œå…¶ä»– NaN æ¨¡å¼
  - æ­£é›¶/è´Ÿé›¶
- âœ… æœ€å°æ­£è§„æ•°ï¼ˆ2.2250738585072014e-308ï¼‰
- âœ… æœ€å¤§æ¬¡æ­£è§„æ•°
- âœ… æœ€å°æ¬¡æ­£è§„æ•°ï¼ˆ5e-324ï¼‰
- âœ… ç¬¦å·ä½æµ‹è¯•ï¼ˆ0/1ï¼‰
- âœ… æŒ‡æ•°è¾¹ç•Œï¼ˆå…¨0/å…¨1ï¼‰
- âœ… å°¾æ•°æµ‹è¯•ï¼ˆå…¨0/å…¨1ï¼‰
- âœ… 2çš„å¹‚æ¬¡æµ‹è¯•
  - `2^0 = 1`, `2^1 = 2`, `2^10 = 1024`
  - `2^-1 = 0.5`, `2^-10 = 0.0009765625`

### 7. TypedArray äº’æ“ä½œæµ‹è¯• (part8_typedarray_interop.js)

**è¦†ç›–ç‚¹**:
- âœ… ä» `Uint8Array` åˆ›å»º
- âœ… ä» `ArrayBuffer` åˆ›å»º
- âœ… ä¸ `DataView.getFloat64()` å¯¹æ¯”
- âœ… ä¸ `Float64Array` äº’æ“ä½œ
- âœ… `SharedArrayBuffer` æ”¯æŒ
- âœ… `Buffer.subarray` / `Buffer.slice`
- âœ… è·¨ TypedArray ç±»å‹ï¼ˆInt8Array, Uint16Arrayï¼‰
- âœ… `Buffer.from()` å¤šç§æ–¹å¼
- âœ… `buffer.buffer` å±æ€§è®¿é—®

### 8. å†…å­˜å®‰å…¨æµ‹è¯• (part9_memory_safety.js)

**è¦†ç›–ç‚¹**:
- âœ… è¶Šç•Œæ£€æµ‹
- âœ… å¤šæ¬¡è¯»å–åŒä¸€ä½ç½®ä¸€è‡´æ€§
- âœ… å¹¶å‘è¯»å–ä¸åŒä½ç½®
- âœ… è¯»å–åä¿®æ”¹ä¸å½±å“å·²è¯»å€¼
- âœ… é›¶é•¿åº¦ Buffer
- âœ… ä¸åŒå¤§å° Bufferï¼ˆ7å­—èŠ‚/8å­—èŠ‚/å¤§Bufferï¼‰
- âœ… `readDoubleBE` ä¸ä¿®æ”¹ Bufferï¼ˆä¸å¯å˜æ€§ï¼‰
- âœ… è¦†ç›–è¯»å–
- âœ… æœªå¯¹é½åœ°å€è¯»å–ï¼ˆå¥‡æ•° offsetï¼‰

### 9. é”™è¯¯å¤„ç†æµ‹è¯• (part10_error_handling.js)

**è¦†ç›–ç‚¹**:
- âœ… RangeError åœºæ™¯
  - offset è¶Šç•Œ
  - è´Ÿ offset
  - æµ®ç‚¹ offset
  - Buffer é•¿åº¦ä¸è¶³
- âœ… TypeError åœºæ™¯
  - null, å­—ç¬¦ä¸², å¯¹è±¡, æ•°ç»„, å¸ƒå°”å€¼
- âœ… ç‰¹æ®Šæ•°å€¼ï¼ˆNaN, Infinity, -Infinityï¼‰
- âœ… é”™è¯¯æ¶ˆæ¯éªŒè¯ï¼ˆåŒ…å«å…³é”®è¯ï¼‰
- âœ… é”™è¯¯å †æ ˆä¿¡æ¯éªŒè¯
- âœ… undefined offset çš„é»˜è®¤è¡Œä¸º
- âœ… æå€¼ï¼ˆMAX_SAFE_INTEGER, MIN_SAFE_INTEGERï¼‰

### 10. å®˜æ–¹ç¤ºä¾‹å’Œå®é™…åº”ç”¨æµ‹è¯• (part11_official_examples.js)

**è¦†ç›–ç‚¹**:
- âœ… Node.js å®˜æ–¹æ–‡æ¡£ç¤ºä¾‹
  - `Buffer.from([1,2,3,4,5,6,7,8])` â†’ `8.20788039913184e-304`
- âœ… å®é™…åº”ç”¨åœºæ™¯
  - æ¸©åº¦æ•°æ®åºåˆ—åŒ–
  - ç»çº¬åº¦åæ ‡
  - ç§‘å­¦è®¡ç®—æ•°æ®ï¼ˆé˜¿ä¼ä¼½å¾·ç½—å¸¸æ•°ï¼‰
  - è´¢åŠ¡é‡‘é¢
  - ç½‘ç»œåè®®å¤´è§£æ
  - æµ®ç‚¹æ•°ç»„åºåˆ—åŒ–
  - é«˜ç²¾åº¦æ—¶é—´æˆ³
  - ä¼ æ„Ÿå™¨è¯»æ•°
  - å›¾åƒå¤„ç†ï¼ˆå½’ä¸€åŒ–åƒç´ å€¼ï¼‰
  - éŸ³é¢‘é‡‡æ ·
  - ç»Ÿè®¡æ•°æ®
  - ç‰©ç†å¸¸æ•°ï¼ˆå…‰é€Ÿã€æ™®æœ—å…‹å¸¸æ•°ï¼‰

### 11. Symbol.toPrimitive å’Œå¯¹è±¡è½¬æ¢æµ‹è¯• (part12_symbol_toprimitive.js)

**è¦†ç›–ç‚¹**:
- âœ… Symbol.toPrimitive æµ‹è¯•
  - è¿”å›æœ‰æ•ˆ offset (0)
  - è¿”å›éæ•´æ•°ï¼ˆæµ®ç‚¹æ•°ï¼‰
  - è¿”å›å­—ç¬¦ä¸²
  - è¿”å› NaN
  - è¿”å› Infinity
  - Symbol.toPrimitive ä¼˜å…ˆäº valueOf
  - Symbol.toPrimitive æŠ›å‡ºé”™è¯¯
- âœ… valueOf æµ‹è¯•
  - valueOf è¿”å›æœ‰æ•ˆå€¼
  - valueOf è¿”å›æµ®ç‚¹æ•°
  - valueOf æŠ›å‡ºé”™è¯¯

### 12. æ–¹æ³•å®Œæ•´æ€§å’Œå±æ€§æµ‹è¯• (part13_method_integrity.js)

**è¦†ç›–ç‚¹**:
- âœ… æ–¹æ³•å­˜åœ¨æ€§
  - readDoubleBE åœ¨ Buffer.prototype ä¸Š
  - æ–¹æ³•æ˜¯ function ç±»å‹
  - æ–¹æ³•åç§°å±æ€§
  - æ–¹æ³•å‚æ•°é•¿åº¦
- âœ… æ–¹æ³•è°ƒç”¨æ–¹å¼
  - ç›´æ¥è°ƒç”¨
  - call è°ƒç”¨
  - apply è°ƒç”¨
  - èµ‹å€¼ç»™å˜é‡åè°ƒç”¨
- âœ… æ–¹æ³•å±æ€§
  - å­˜åœ¨äºåŸå‹ä¸Š
  - å¯æšä¸¾æ€§
  - å¯åˆ é™¤å’Œé‡æ–°èµ‹å€¼
- âœ… è¿”å›å€¼éªŒè¯
  - è¿”å› number ç±»å‹
  - è¿”å›å€¼ç±»å‹å­—ç¬¦ä¸²è¡¨ç¤º
- âœ… ä¸å¯å˜æ€§
  - ä¸ä¿®æ”¹åŸ Buffer
- âœ… é”™è¯¯çš„ this ç»‘å®š
  - é Buffer å¯¹è±¡è°ƒç”¨
  - æ™®é€šå¯¹è±¡è°ƒç”¨
  - null è°ƒç”¨

### 13. è¿”å›å€¼ç±»å‹å’Œç‰¹æ€§æµ‹è¯• (part14_return_type.js)

**è¦†ç›–ç‚¹**:
- âœ… è¿”å›å€¼ç±»å‹
  - æ˜¯ number ç±»å‹
  - ä¸æ˜¯ bigint/string/object
- âœ… Number ç‰¹æ€§
  - å¯ä»¥è¿›è¡Œæ•°å­¦è¿ç®—
  - å¯ä»¥æ¯”è¾ƒ
  - å¯ä»¥è½¬æ¢ä¸ºå­—ç¬¦ä¸²
  - å¯ä»¥è°ƒç”¨ Number æ–¹æ³•ï¼ˆtoFixedï¼‰
- âœ… ç‰¹æ®Šå€¼çš„è¿”å›ç±»å‹
  - Infinity æ˜¯ number
  - NaN æ˜¯ number
  - é›¶æ˜¯ number
  - è´Ÿé›¶æ˜¯ number
- âœ… Number åˆ¤æ–­æ–¹æ³•
  - isFinite
  - isNaN
  - isInteger
  - isSafeInteger
- âœ… è¿”å›å€¼æ¯”è¾ƒ
  - ä¸ Number å¸¸é‡æ¯”è¾ƒ
  - ä¸¥æ ¼ç›¸ç­‰æ€§
  - NaN ä¸ç­‰äºè‡ªèº«

### 14. å†»ç»“å’Œå¯†å° Buffer æµ‹è¯• (part15_frozen_sealed_buffer.js)

**è¦†ç›–ç‚¹**:
- âœ… å†»ç»“ Buffer
  - å°è¯•å†»ç»“éç©º Buffer æŠ›å‡º TypeError
  - å†»ç»“ç©º Buffer å¯ä»¥è¯»å–
- âœ… å¯†å° Buffer
  - å°è¯•å¯†å°éç©º Buffer æŠ›å‡º TypeError
  - å¯†å°ç©º Buffer å¯ä»¥è¯»å–
- âœ… ä¸å¯æ‰©å±• Buffer
  - å¯ä»¥è¯»å–
  - å¯ä»¥ä¿®æ”¹å¹¶è¯»å–
  - offset è¶Šç•Œä»æŠ›å‡ºé”™è¯¯
  - è¯»å–ç‰¹æ®Šå€¼ï¼ˆInfinity, NaNï¼‰
- âœ… å¯æ‰©å±•æ€§æ£€æŸ¥
  - æ–° Buffer é»˜è®¤å¯æ‰©å±•
  - preventExtensions åä¸å¯æ‰©å±•

### 15. ArrayBuffer é«˜çº§è¾¹ç•Œæµ‹è¯• (part16_arraybuffer_advanced.js)

**è¦†ç›–ç‚¹**:
- âœ… Buffer ä¸ ArrayBuffer å…±äº«å†…å­˜
  - ä¿®æ”¹åŸ Buffer å½±å“ subarray
  - ä¿®æ”¹ subarray å½±å“åŸ Buffer
  - slice å’Œ subarray éƒ½è¿”å›å…±äº«å†…å­˜è§†å›¾
- âœ… TypedArray äº’æ“ä½œ
  - ä» TypedArray.buffer åˆ›å»º
  - Buffer.concat
  - é›¶é•¿åº¦ slice æŠ›å‡ºé”™è¯¯
- âœ… ArrayBuffer è¾¹ç•Œå¯¹é½
  - ä» ArrayBuffer ä¸­é—´åˆ›å»º
  - ä»å¼€å§‹/æœ«å°¾ä½ç½®åˆ›å»º
  - å¤šå±‚ subarray
  - Buffer.from å¤åˆ¶ subarray
- âœ… å…±äº« ArrayBuffer å¤šä¸ªè§†å›¾
- âœ… Buffer.allocUnsafe/allocUnsafeSlow

### 16. è¡¥å……è¦†ç›–æµ‹è¯• (part17_additional_coverage.js)

**è¦†ç›–ç‚¹**:
- âœ… å¤šå‚æ•°æµ‹è¯•
  - ä¼ å…¥ 2 ä¸ªå‚æ•°ï¼ˆç¬¬äºŒä¸ªå‚æ•°è¢«å¿½ç•¥ï¼‰
  - ä¼ å…¥ 3 ä¸ªå‚æ•°ï¼ˆå¤šä½™å‚æ•°è¢«å¿½ç•¥ï¼‰
- âœ… BigInt offset æµ‹è¯•
  - BigInt(0) å’Œ BigInt(1) æŠ›å‡º TypeError
- âœ… Symbol offset æµ‹è¯•
  - Symbol() å’Œ Symbol.for() æŠ›å‡º TypeError
- âœ… å‡½æ•°ä½œä¸º offset
  - æ™®é€šå‡½æ•°å’Œç®­å¤´å‡½æ•°éƒ½æŠ›å‡º TypeError
- âœ… å¯¹è±¡åŒ…è£…ç±»å‹
  - new Number(0) å’Œ new String("0") æŠ›å‡º TypeError
- âœ… è¾¹ç•Œé•¿åº¦æµ‹è¯•
  - 8/9 å­—èŠ‚ Buffer çš„ä¸åŒ offset
- âœ… ç‰¹æ®Šè´Ÿé›¶æµ‹è¯•
  - åŒºåˆ† +0 å’Œ -0
- âœ… è¿ç»­å’Œäº¤é”™è¯»å–
- âœ… æµ®ç‚¹æ•°å’Œç§‘å­¦è®¡æ•°æ³• offset
- âœ… Date å’Œ RegExp å¯¹è±¡ä½œä¸º offset
- âœ… è¯»å–æœªåˆå§‹åŒ–çš„ Buffer

### 17. è·¨æ–¹æ³•ä¸€è‡´æ€§æµ‹è¯• (part18_cross_method_consistency.js)

**è¦†ç›–ç‚¹**:
- âœ… ä¸ writeDoubleBE/readDoubleBE å¾€è¿”ä¸€è‡´æ€§
- âœ… ä¸ writeDoubleLE/readDoubleBE å­—èŠ‚åºå·®å¼‚éªŒè¯
- âœ… åŒä¸€ Buffer æ··åˆä½¿ç”¨å¤šä¸ª read æ–¹æ³•
- âœ… ä¸ DataView.getFloat64 ä¸€è‡´æ€§å¯¹æ¯”
- âœ… è·¨å¤šä¸ª offset è¿ç»­è¯»å–
- âœ… åœ¨ subarray å’Œ slice ä¸Šè¯»å–
- âœ… ä¿®æ”¹åŸ Buffer å¯¹ subarray çš„å½±å“
- âœ… Buffer å’Œ Uint8Array è§†å›¾å…±äº«æ•°æ®
- âœ… å¤§ offsetï¼ˆ1000000 å­—èŠ‚ï¼‰
- âœ… ä» Float64Array åˆ›å»º Buffer
- âœ… offset ç²¾ç¡®è¾¹ç•Œå€¼ï¼ˆbuf.length - 8ï¼‰
- âœ… åŒä¸€ä½ç½®é‡å¤è¯»å– 100 æ¬¡ä¸€è‡´æ€§
- âœ… è¦†ç›–å†™å…¥åè¯»å–æ­£ç¡®æ€§
- âœ… Buffer.concat åè¯»å–
- âœ… ä» base64/hex ç¼–ç åˆ›å»º Buffer åè¯»å–

### 18. æœ€ç»ˆè¾¹ç•Œåœºæ™¯æµ‹è¯• (part19_edge_cases_final.js)

**è¦†ç›–ç‚¹**:
- âœ… offset å¯¹è±¡ç±»å‹è½¬æ¢
  - å¸¦ valueOf çš„å¯¹è±¡æŠ›å‡º TypeError
  - å¸¦ toString çš„å¯¹è±¡æŠ›å‡º TypeError
  - valueOf/toString ç»„åˆæŠ›å‡º TypeError
  - Node.js v25 ä¸¥æ ¼ç±»å‹æ£€æŸ¥éªŒè¯
- âœ… åŸå‹é“¾å’Œæ–¹æ³•ç»‘å®š
  - åœ¨ Buffer.prototype ä¸Šè°ƒç”¨æ–¹æ³•
  - bind ç»‘å®šæ­£ç¡®/é”™è¯¯çš„ this
- âœ… ç‰¹æ®Š offset å€¼
  - BigInt(0n) æŠ›å‡º TypeError
  - -0 å’Œ +0 ç­‰åŒäº 0
  - åå…­è¿›åˆ¶/å…«è¿›åˆ¶/äºŒè¿›åˆ¶è¡¨ç¤ºçš„ 0
- âœ… Buffer åˆ›å»ºæ–¹å¼å·®å¼‚
  - Buffer.alloc/allocUnsafe/allocUnsafeSlow
  - Buffer.from(ArrayBuffer/Array/Buffer/string)
- âœ… æç«¯å¤§å°çš„ Buffer
  - 7 å­—èŠ‚æ— æ³•è¯»å–ï¼Œ8 å­—èŠ‚æ­£å¥½
  - 10MB å¤§ Buffer åœ¨æœ‰æ•ˆä½ç½®è¯»å–
- âœ… æ•°å€¼ç²¾åº¦è¾¹ç•Œ
  - MIN_VALUEã€MAX_VALUEã€EPSILON
  - 1 + EPSILONã€-MAX_VALUE
- âœ… ç‰¹æ®Šæµ®ç‚¹æ•°æ¨¡å¼
  - æ¬¡æ­£è§„æ•°ï¼ˆsubnormalï¼‰5e-324
  - æœ€å¤§æ¬¡æ­£è§„æ•°ã€æœ€å°æ­£è§„æ•°
- âœ… å¹¶å‘å’Œå¤šæ¬¡è°ƒç”¨
  - åŒä¸€ä½ç½®è¯»å– 1000 æ¬¡ä¸€è‡´æ€§
  - ä¸åŒ offset äº¤æ›¿è¯»å– 400 æ¬¡ä¸å¹²æ‰°
- âœ… æ–¹æ³•å±æ€§æ£€æŸ¥
  - length å±æ€§ä¸º 0ï¼ˆå‚æ•°å¯é€‰ï¼‰
  - name å±æ€§å­˜åœ¨æ€§
  - å‡½æ•°ç±»å‹éªŒè¯
- âœ… å…¶ä»–è¾¹ç•Œ
  - æ•°ç»„ç´¢å¼•è¯­æ³•è®¿é—®å­—èŠ‚
  - å­—ç¬¦ä¸² offset æŠ›å‡º TypeError
  - ç§‘å­¦è®¡æ•°æ³•çš„æœ‰æ•ˆæ•´æ•° offset

## è¡¥å……æµ‹è¯•è¯´æ˜

### æ–°å¢æµ‹è¯•è¦†ç›–çš„å…³é”®ç‚¹

1. **Symbol.toPrimitive è½¬æ¢** (part12)
   - éªŒè¯ offset å‚æ•°çš„å¯¹è±¡åˆ°åŸå§‹å€¼è½¬æ¢
   - æµ‹è¯•è½¬æ¢ä¼˜å…ˆçº§ï¼ˆSymbol.toPrimitive > valueOfï¼‰
   - æµ‹è¯•è½¬æ¢è¿‡ç¨‹ä¸­çš„é”™è¯¯å¤„ç†

2. **æ–¹æ³•å®Œæ•´æ€§** (part13)
   - éªŒè¯æ–¹æ³•çš„å…ƒæ•°æ®ï¼ˆname, lengthï¼‰
   - æµ‹è¯•ä¸åŒè°ƒç”¨æ–¹å¼ï¼ˆcall, apply, bindï¼‰
   - éªŒè¯é”™è¯¯çš„ this ç»‘å®šè¡Œä¸º

3. **è¿”å›å€¼ç±»å‹** (part14)
   - è¯¦ç»†éªŒè¯è¿”å›å€¼æ˜¯ number ç±»å‹
   - æµ‹è¯•è¿”å›å€¼çš„ Number ç‰¹æ€§å’Œæ–¹æ³•
   - éªŒè¯ç‰¹æ®Šå€¼çš„ç±»å‹ä¸€è‡´æ€§

4. **å¯¹è±¡çŠ¶æ€** (part15)
   - æµ‹è¯•å†»ç»“/å¯†å° Buffer çš„è¡Œä¸º
   - éªŒè¯ä¸å¯æ‰©å±• Buffer çš„è¯»å–èƒ½åŠ›
   - ç¡®ä¿å¯¹è±¡çŠ¶æ€ä¸å½±å“è¯»å–åŠŸèƒ½

5. **ArrayBuffer é«˜çº§åœºæ™¯** (part16)
   - æµ‹è¯•å†…å­˜å…±äº«å’Œè§†å›¾
   - éªŒè¯å¤šå±‚ subarray çš„æ­£ç¡®æ€§
   - æµ‹è¯•å„ç§ ArrayBuffer åˆ›å»ºæ–¹å¼

6. **è¡¥å……è¦†ç›–æµ‹è¯•** (part17)
   - BigIntã€Symbolã€å‡½æ•°ç­‰éæ ‡å‡†ç±»å‹ä½œä¸º offset
   - å¤šå‚æ•°å¤„ç†ï¼ˆå¿½ç•¥å¤šä½™å‚æ•°ï¼‰
   - æ›´å¤šè¾¹ç•Œåœºæ™¯ï¼ˆ+0/-0ã€è¿ç»­è¯»å–ç­‰ï¼‰

7. **è·¨æ–¹æ³•ä¸€è‡´æ€§** (part18)
   - ä¸å…¶ä»– Buffer æ–¹æ³•çš„äº’æ“ä½œæ€§
   - ä¸ DataView çš„ä¸€è‡´æ€§éªŒè¯
   - ä¸åŒç¼–ç æ–¹å¼çš„å¾€è¿”æµ‹è¯•
   - å¤§ Buffer å’Œé‡å¤è¯»å–çš„ç¨³å®šæ€§

8. **æœ€ç»ˆè¾¹ç•Œåœºæ™¯** (part19)
   - Node.js v25 ä¸¥æ ¼ç±»å‹æ£€æŸ¥ï¼ˆå¯¹è±¡ä¸è½¬æ¢ä¸ºæ•°å­—ï¼‰
   - å„ç§ Buffer åˆ›å»ºæ–¹å¼çš„å…¼å®¹æ€§
   - æç«¯ç²¾åº¦æ•°å€¼ï¼ˆæ¬¡æ­£è§„æ•°ã€MIN_VALUEã€MAX_VALUEï¼‰
   - å¤§è§„æ¨¡å¹¶å‘è¯»å–ç¨³å®šæ€§ï¼ˆ1000 æ¬¡é‡å¤ï¼‰
   - æ–¹æ³•å…ƒæ•°æ®éªŒè¯ï¼ˆlengthã€name å±æ€§ï¼‰
   - ç‰¹æ®Š offset è¡¨ç¤ºï¼ˆåå…­è¿›åˆ¶ã€å…«è¿›åˆ¶ã€äºŒè¿›åˆ¶ï¼‰

## ä¸ Node.js v25.0.0 å¯¹æ¯”

### å®Œå…¨ä¸€è‡´çš„è¡Œä¸º

1. **è¯»å–ç»“æœ**: æ‰€æœ‰æ•°å€¼è¯»å–ç»“æœä¸ Node.js å®Œå…¨ä¸€è‡´
2. **é”™è¯¯ç±»å‹**: RangeError å’Œ TypeError æŠ›å‡ºæ—¶æœºå’Œç±»å‹ä¸€è‡´
3. **é”™è¯¯æ¶ˆæ¯**: é”™è¯¯æ¶ˆæ¯åŒ…å«ç›¸åŒçš„å…³é”®ä¿¡æ¯
4. **å­—èŠ‚åº**: Big-Endian å­—èŠ‚åºè§£æå®Œå…¨æ­£ç¡®
5. **IEEE 754**: ç‰¹æ®Šå€¼ï¼ˆInfinity, NaN, é›¶ï¼‰å¤„ç†ä¸€è‡´
6. **ç²¾åº¦**: é«˜ç²¾åº¦æ•°å€¼å¾€è¿”æ— æŸå¤±
7. **TypedArray**: ä¸å…¶ä»– TypedArray API äº’æ“ä½œæ­£å¸¸
8. **å†…å­˜å®‰å…¨**: è¾¹ç•Œæ£€æŸ¥å’Œä¸å¯å˜æ€§ä¿è¯
9. **å¯¹è±¡è½¬æ¢**: Symbol.toPrimitive å’Œ valueOf è¡Œä¸ºä¸€è‡´
10. **æ–¹æ³•å±æ€§**: æ–¹æ³•å…ƒæ•°æ®å’Œè°ƒç”¨æ–¹å¼å®Œå…¨å…¼å®¹

### æµ‹è¯•æ‰§è¡Œç¯å¢ƒ

- **æœ¬åœ° Node.js**: v25.0.0 - 332/332 é€šè¿‡
- **Go + goja æœåŠ¡**: 332/332 é€šè¿‡
- **ä¸€è‡´æ€§**: 100%

## ä¿®å¤çš„é—®é¢˜

### 1. getBufferByte nil pointer é—®é¢˜
- **é—®é¢˜**: åœ¨é Buffer å¯¹è±¡ä¸Šè°ƒç”¨æ—¶ï¼Œ`val.ToInteger()` å¯èƒ½å¯¼è‡´ nil pointer dereference
- **ä¿®å¤**: æ·»åŠ  `val == nil` æ£€æŸ¥
- **å½±å“**: part13_method_integrity.js æµ‹è¯•é€šè¿‡

### 2. checkReadBounds å¯¹é Buffer å¯¹è±¡çš„å¤„ç†
- **é—®é¢˜**: æ™®é€šå¯¹è±¡çš„ length å±æ€§è¢«é”™è¯¯ä½¿ç”¨
- **ä¿®å¤**: åªå¯¹çœŸæ­£çš„ Buffer/TypedArray è·å– lengthï¼Œæ™®é€šå¯¹è±¡è§†ä¸º length=0
- **å½±å“**: ç¬¦åˆ Node.js è¡Œä¸ºï¼Œæ­£ç¡®æŠ›å‡º RangeError

## è¦†ç›–èŒƒå›´æ€»ç»“

### âœ… å·²è¦†ç›–

1. **åŸºç¡€åŠŸèƒ½**: è¯»å–å„ç§æ•°å€¼ç±»å‹
2. **å‚æ•°éªŒè¯**: offset çš„æ‰€æœ‰åˆæ³•/éæ³•æƒ…å†µ
3. **ç‰¹æ®Šå€¼**: Infinity, NaN, Â±0, MIN/MAX_VALUE
4. **å­—èŠ‚åº**: Big-Endian å®Œæ•´éªŒè¯
5. **ç²¾åº¦**: é«˜ç²¾åº¦ã€ç§‘å­¦è®¡æ•°æ³•ã€æ•°å­¦å¸¸æ•°
6. **IEEE 754**: ç¬¦å·ä½ã€æŒ‡æ•°ã€å°¾æ•°ã€ç‰¹æ®Šç¼–ç 
7. **äº’æ“ä½œ**: TypedArray, ArrayBuffer, DataView
8. **å†…å­˜å®‰å…¨**: è¶Šç•Œã€å¯¹é½ã€å¹¶å‘è¯»å–
9. **é”™è¯¯å¤„ç†**: æ‰€æœ‰é”™è¯¯ç±»å‹å’Œæ¶ˆæ¯
10. **å®é™…åº”ç”¨**: çœŸå®åœºæ™¯æ¨¡æ‹Ÿ
11. **å¯¹è±¡è½¬æ¢**: Symbol.toPrimitive, valueOf
12. **æ–¹æ³•å®Œæ•´æ€§**: å…ƒæ•°æ®ã€è°ƒç”¨æ–¹å¼ã€this ç»‘å®š
13. **è¿”å›å€¼ç±»å‹**: Number ç‰¹æ€§å’Œæ–¹æ³•
14. **å¯¹è±¡çŠ¶æ€**: å†»ç»“ã€å¯†å°ã€ä¸å¯æ‰©å±•
15. **é«˜çº§ ArrayBuffer**: å…±äº«å†…å­˜ã€è§†å›¾ã€è¾¹ç•Œ
16. **è¡¥å……è¦†ç›–**: BigInt/Symbol/å‡½æ•°ç±»å‹ã€å¤šå‚æ•°ã€è¾¹ç•Œ
17. **è·¨æ–¹æ³•ä¸€è‡´æ€§**: ä¸å…¶ä»–æ–¹æ³•äº’æ“ä½œã€ç¼–ç å¾€è¿”ã€é‡å¤è¯»å–
18. **æœ€ç»ˆè¾¹ç•Œåœºæ™¯**: ä¸¥æ ¼ç±»å‹æ£€æŸ¥ã€åˆ›å»ºæ–¹å¼ã€ç²¾åº¦è¾¹ç•Œã€å¹¶å‘ã€å…ƒæ•°æ®

### ğŸ¯ è´¨é‡ä¿è¯

- âœ… æ— é—æ¼åœºæ™¯
- âœ… æ— å†—ä½™æµ‹è¯•
- âœ… æµ‹è¯•è„šæœ¬éµå¾ªè§„èŒƒï¼ˆæ— ç¦ç”¨è¯ï¼‰
- âœ… é”™è¯¯è¾“å‡ºåŒ…å« message å’Œ stack
- âœ… ç»Ÿä¸€çš„æµ‹è¯•æ¡†æ¶å’Œè¾“å‡ºæ ¼å¼
- âœ… ä¿®å¤äº† Go å®ç°ä¸­çš„ 2 ä¸ªé—®é¢˜

## è¿è¡Œæ–¹å¼

### å•ä¸ªæµ‹è¯•
```bash
node part1_basic.js
```

### å®Œæ•´æµ‹è¯•å¥—ä»¶
```bash
chmod +x run_all_tests.sh
./run_all_tests.sh
```

### åœ¨ Go + goja æœåŠ¡ä¸­æµ‹è¯•
```bash
# ç¡®ä¿æœåŠ¡è¿è¡Œ
curl http://localhost:3002/health

# è¿è¡Œå®Œæ•´æµ‹è¯•
./run_all_tests.sh
```

## ç»“è®º

âœ… **buf.readDoubleBE() åœ¨ Go + goja å®ç°ä¸­ä¸ Node.js v25.0.0 å®Œå…¨å…¼å®¹**

- 332 ä¸ªæµ‹è¯•ç”¨ä¾‹å…¨éƒ¨é€šè¿‡ï¼ˆç›¸æ¯”åˆå§‹çš„ 177 ä¸ªï¼Œæ–°å¢ 155 ä¸ªï¼‰
- è¦†ç›–æ‰€æœ‰åŠŸèƒ½ç‚¹å’Œè¾¹ç•Œæƒ…å†µ
- é”™è¯¯å¤„ç†å®Œå…¨ä¸€è‡´
- æ€§èƒ½å’Œå†…å­˜å®‰å…¨ç¬¦åˆé¢„æœŸ
- ä¿®å¤äº† 2 ä¸ª Go å®ç°ä¸­çš„é—®é¢˜
- æ–°å¢è·¨æ–¹æ³•ä¸€è‡´æ€§å’Œè¡¥å……è¾¹ç•Œæµ‹è¯•

## ç›¸å…³æ–‡ä»¶

- `part1_basic.js` - åŸºç¡€åŠŸèƒ½
- `part2_special_values.js` - ç‰¹æ®Šå€¼
- `part3_offset_validation.js` - offset éªŒè¯
- `part5_endianness.js` - å­—èŠ‚åº
- `part6_precision.js` - ç²¾åº¦
- `part7_ieee754.js` - IEEE 754
- `part8_typedarray_interop.js` - TypedArray
- `part9_memory_safety.js` - å†…å­˜å®‰å…¨
- `part10_error_handling.js` - é”™è¯¯å¤„ç†
- `part11_official_examples.js` - å®˜æ–¹ç¤ºä¾‹
- `part12_symbol_toprimitive.js` - Symbol.toPrimitive
- `part13_method_integrity.js` - æ–¹æ³•å®Œæ•´æ€§
- `part14_return_type.js` - è¿”å›å€¼ç±»å‹
- `part15_frozen_sealed_buffer.js` - å†»ç»“/å¯†å°
- `part16_arraybuffer_advanced.js` - ArrayBuffer é«˜çº§
- `part17_additional_coverage.js` - è¡¥å……è¦†ç›–æµ‹è¯•
- `part18_cross_method_consistency.js` - è·¨æ–¹æ³•ä¸€è‡´æ€§
- `part19_edge_cases_final.js` - æœ€ç»ˆè¾¹ç•Œåœºæ™¯
- `run_all_tests.sh` - ä¸€é”®è¿è¡Œè„šæœ¬
